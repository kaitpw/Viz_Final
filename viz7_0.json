{
  "$schema": "https://vega.github.io/schema/vega/v5.json",
  "data": [
    {"name": "param_6_store"},
    {
      "name": "source_0",
      "url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/us-10m.json",
      "format": {"type": "topojson", "feature": "states"}
    },
    {
      "name": "source_1",
      "values": [
        {
          "state_name": "Alabama",
          "TOTAL": 18881.40364665326,
          "REDUCTION": 0.22347382022885634,
          "STATE_FIPS": 1
        },
        {
          "state_name": "Alaska",
          "TOTAL": 30999.90918316974,
          "REDUCTION": 0.8686368360557585,
          "STATE_FIPS": 2
        },
        {
          "state_name": "Arizona",
          "TOTAL": 17853.66207937732,
          "REDUCTION": 0.16004642120414247,
          "STATE_FIPS": 4
        },
        {
          "state_name": "Arkansas",
          "TOTAL": 21559.02904300859,
          "REDUCTION": 0.2946334565778539,
          "STATE_FIPS": 5
        },
        {
          "state_name": "California",
          "TOTAL": 15642.791869531507,
          "REDUCTION": 0.22445131445051061,
          "STATE_FIPS": 6
        },
        {
          "state_name": "Colorado",
          "TOTAL": 24556.44634478341,
          "REDUCTION": 0.5152401810390003,
          "STATE_FIPS": 8
        },
        {
          "state_name": "Connecticut",
          "TOTAL": 24547.67859714346,
          "REDUCTION": 0.4947185968580162,
          "STATE_FIPS": 9
        },
        {
          "state_name": "Delaware",
          "TOTAL": 21097.389020071416,
          "REDUCTION": 0.3825092364532924,
          "STATE_FIPS": 10
        },
        {
          "state_name": "District of Columbia",
          "TOTAL": 14117.619163095307,
          "REDUCTION": 0.570735921990309,
          "STATE_FIPS": 11
        },
        {
          "state_name": "Florida",
          "TOTAL": 14704.377764069663,
          "REDUCTION": 0.057062496174786724,
          "STATE_FIPS": 12
        },
        {
          "state_name": "Georgia",
          "TOTAL": 20911.676321402574,
          "REDUCTION": 0.21716618242316543,
          "STATE_FIPS": 13
        },
        {
          "state_name": "Hawaii",
          "TOTAL": 8876.368395560254,
          "REDUCTION": 0.0017436070821298536,
          "STATE_FIPS": 15
        },
        {
          "state_name": "Idaho",
          "TOTAL": 24734.493675405585,
          "REDUCTION": 0.4832167538903822,
          "STATE_FIPS": 16
        },
        {
          "state_name": "Illinois",
          "TOTAL": 28046.197745245518,
          "REDUCTION": 0.46912792093992817,
          "STATE_FIPS": 17
        },
        {
          "state_name": "Indiana",
          "TOTAL": 26961.722063050183,
          "REDUCTION": 0.37788376397733203,
          "STATE_FIPS": 18
        },
        {
          "state_name": "Iowa",
          "TOTAL": 28426.494543627017,
          "REDUCTION": 0.42631631692115346,
          "STATE_FIPS": 19
        },
        {
          "state_name": "Kansas",
          "TOTAL": 26111.78757504929,
          "REDUCTION": 0.34027563778437875,
          "STATE_FIPS": 20
        },
        {
          "state_name": "Kentucky",
          "TOTAL": 21489.450285557505,
          "REDUCTION": 0.40017780962144167,
          "STATE_FIPS": 21
        },
        {
          "state_name": "Louisiana",
          "TOTAL": 19039.310595129387,
          "REDUCTION": 0.13576848004363762,
          "STATE_FIPS": 22
        },
        {
          "state_name": "Maine",
          "TOTAL": 25444.300843787212,
          "REDUCTION": 0.6236397995266872,
          "STATE_FIPS": 23
        },
        {
          "state_name": "Maryland",
          "TOTAL": 21555.460639989462,
          "REDUCTION": 0.3836437206512904,
          "STATE_FIPS": 24
        },
        {
          "state_name": "Massachusetts",
          "TOTAL": 24656.09155408694,
          "REDUCTION": 0.5215286271982138,
          "STATE_FIPS": 25
        },
        {
          "state_name": "Michigan",
          "TOTAL": 30475.967238648005,
          "REDUCTION": 0.47508901611796556,
          "STATE_FIPS": 26
        },
        {
          "state_name": "Minnesota",
          "TOTAL": 28250.462670489043,
          "REDUCTION": 0.5754907773042021,
          "STATE_FIPS": 27
        },
        {
          "state_name": "Mississippi",
          "TOTAL": 20579.18373054458,
          "REDUCTION": 0.17556087007428164,
          "STATE_FIPS": 28
        },
        {
          "state_name": "Missouri",
          "TOTAL": 24900.025413765918,
          "REDUCTION": 0.3743875407561275,
          "STATE_FIPS": 29
        },
        {
          "state_name": "Montana",
          "TOTAL": 23524.943816976516,
          "REDUCTION": 0.6668175163845492,
          "STATE_FIPS": 30
        },
        {
          "state_name": "Nebraska",
          "TOTAL": 24709.891632121937,
          "REDUCTION": 0.4885408671830297,
          "STATE_FIPS": 31
        },
        {
          "state_name": "Nevada",
          "TOTAL": 21476.16442246765,
          "REDUCTION": 0.2767093024461313,
          "STATE_FIPS": 32
        },
        {
          "state_name": "New Hampshire",
          "TOTAL": 25688.28659873232,
          "REDUCTION": 0.5953511375097266,
          "STATE_FIPS": 33
        },
        {
          "state_name": "New Jersey",
          "TOTAL": 26976.507051034714,
          "REDUCTION": 0.39852761622359584,
          "STATE_FIPS": 34
        },
        {
          "state_name": "New Mexico",
          "TOTAL": 21859.997031835504,
          "REDUCTION": 0.3788524390644107,
          "STATE_FIPS": 35
        },
        {
          "state_name": "New York",
          "TOTAL": 22433.91952986295,
          "REDUCTION": 0.5040162591492784,
          "STATE_FIPS": 36
        },
        {
          "state_name": "North Carolina",
          "TOTAL": 18196.761329802386,
          "REDUCTION": 0.3264805058737832,
          "STATE_FIPS": 37
        },
        {
          "state_name": "North Dakota",
          "TOTAL": 25831.101490889978,
          "REDUCTION": 0.854954231759204,
          "STATE_FIPS": 38
        },
        {
          "state_name": "Ohio",
          "TOTAL": 26092.118961893262,
          "REDUCTION": 0.4049254832269664,
          "STATE_FIPS": 39
        },
        {
          "state_name": "Oklahoma",
          "TOTAL": 23686.153852731404,
          "REDUCTION": 0.2850371560106566,
          "STATE_FIPS": 40
        },
        {
          "state_name": "Oregon",
          "TOTAL": 19405.134252980704,
          "REDUCTION": 0.5451600343648018,
          "STATE_FIPS": 41
        },
        {
          "state_name": "Pennsylvania",
          "TOTAL": 24937.660348937705,
          "REDUCTION": 0.4581153454504447,
          "STATE_FIPS": 42
        },
        {
          "state_name": "Rhode Island",
          "TOTAL": 26709.324702446796,
          "REDUCTION": 0.43532897661519243,
          "STATE_FIPS": 44
        },
        {
          "state_name": "South Carolina",
          "TOTAL": 17942.041031311088,
          "REDUCTION": 0.24656843855784052,
          "STATE_FIPS": 45
        },
        {
          "state_name": "South Dakota",
          "TOTAL": 24823.751743246183,
          "REDUCTION": 0.5925579181247183,
          "STATE_FIPS": 46
        },
        {
          "state_name": "Tennessee",
          "TOTAL": 20015.72363695654,
          "REDUCTION": 0.346841291902604,
          "STATE_FIPS": 47
        },
        {
          "state_name": "Texas",
          "TOTAL": 19002.90715219111,
          "REDUCTION": 0.1612765036425433,
          "STATE_FIPS": 48
        },
        {
          "state_name": "Utah",
          "TOTAL": 26311.05067150592,
          "REDUCTION": 0.387739021676422,
          "STATE_FIPS": 49
        },
        {
          "state_name": "Vermont",
          "TOTAL": 25457.9772949469,
          "REDUCTION": 0.6236246354454896,
          "STATE_FIPS": 50
        },
        {
          "state_name": "Virginia",
          "TOTAL": 21068.256832010673,
          "REDUCTION": 0.38800779626269255,
          "STATE_FIPS": 51
        },
        {
          "state_name": "Washington",
          "TOTAL": 19468.711052546056,
          "REDUCTION": 0.5846634546286537,
          "STATE_FIPS": 53
        },
        {
          "state_name": "West Virginia",
          "TOTAL": 23888.67623080403,
          "REDUCTION": 0.4398304892528162,
          "STATE_FIPS": 54
        },
        {
          "state_name": "Wisconsin",
          "TOTAL": 26054.50339683849,
          "REDUCTION": 0.6182839875657061,
          "STATE_FIPS": 55
        },
        {
          "state_name": "Wyoming",
          "TOTAL": 25861.312243325072,
          "REDUCTION": 0.6038754840299116,
          "STATE_FIPS": 56
        }
      ]
    },
    {
      "name": "source_2",
      "values": [
        {
          "state_name": "Alabama",
          "ELECTRIFIED": 15665.01432703772,
          "REDUCTION": 0.22347382022885634,
          "STATE_FIPS": 1
        },
        {
          "state_name": "Alaska",
          "ELECTRIFIED": 14339.60579206121,
          "REDUCTION": 0.8686368360557585,
          "STATE_FIPS": 2
        },
        {
          "state_name": "Arizona",
          "ELECTRIFIED": 15712.983055618972,
          "REDUCTION": 0.16004642120414247,
          "STATE_FIPS": 4
        },
        {
          "state_name": "Arkansas",
          "ELECTRIFIED": 16733.373924827978,
          "REDUCTION": 0.2946334565778539,
          "STATE_FIPS": 5
        },
        {
          "state_name": "California",
          "ELECTRIFIED": 13113.36492273853,
          "REDUCTION": 0.22445131445051061,
          "STATE_FIPS": 6
        },
        {
          "state_name": "Colorado",
          "ELECTRIFIED": 15710.26060619873,
          "REDUCTION": 0.5152401810390003,
          "STATE_FIPS": 8
        },
        {
          "state_name": "Connecticut",
          "ELECTRIFIED": 16621.485951828705,
          "REDUCTION": 0.4947185968580162,
          "STATE_FIPS": 9
        },
        {
          "state_name": "Delaware",
          "ELECTRIFIED": 14896.251182729837,
          "REDUCTION": 0.3825092364532924,
          "STATE_FIPS": 10
        },
        {
          "state_name": "District of Columbia",
          "ELECTRIFIED": 8559.981941730295,
          "REDUCTION": 0.570735921990309,
          "STATE_FIPS": 11
        },
        {
          "state_name": "Florida",
          "ELECTRIFIED": 14085.472827666325,
          "REDUCTION": 0.057062496174786724,
          "STATE_FIPS": 12
        },
        {
          "state_name": "Georgia",
          "ELECTRIFIED": 17452.664567554064,
          "REDUCTION": 0.21716618242316543,
          "STATE_FIPS": 13
        },
        {
          "state_name": "Hawaii",
          "ELECTRIFIED": 8866.058945636501,
          "REDUCTION": 0.0017436070821298536,
          "STATE_FIPS": 15
        },
        {
          "state_name": "Idaho",
          "ELECTRIFIED": 15452.251401625033,
          "REDUCTION": 0.4832167538903822,
          "STATE_FIPS": 16
        },
        {
          "state_name": "Illinois",
          "ELECTRIFIED": 19492.41326369165,
          "REDUCTION": 0.46912792093992817,
          "STATE_FIPS": 17
        },
        {
          "state_name": "Indiana",
          "ELECTRIFIED": 19038.58517441038,
          "REDUCTION": 0.37788376397733203,
          "STATE_FIPS": 18
        },
        {
          "state_name": "Iowa",
          "ELECTRIFIED": 18438.461699999298,
          "REDUCTION": 0.42631631692115346,
          "STATE_FIPS": 19
        },
        {
          "state_name": "Kansas",
          "ELECTRIFIED": 18909.57087266936,
          "REDUCTION": 0.34027563778437875,
          "STATE_FIPS": 20
        },
        {
          "state_name": "Kentucky",
          "ELECTRIFIED": 15230.226601232946,
          "REDUCTION": 0.40017780962144167,
          "STATE_FIPS": 21
        },
        {
          "state_name": "Louisiana",
          "ELECTRIFIED": 17168.155860954423,
          "REDUCTION": 0.13576848004363762,
          "STATE_FIPS": 22
        },
        {
          "state_name": "Maine",
          "ELECTRIFIED": 14666.181422103045,
          "REDUCTION": 0.6236397995266872,
          "STATE_FIPS": 23
        },
        {
          "state_name": "Maryland",
          "ELECTRIFIED": 15500.273409110192,
          "REDUCTION": 0.3836437206512904,
          "STATE_FIPS": 24
        },
        {
          "state_name": "Massachusetts",
          "ELECTRIFIED": 16055.607789155,
          "REDUCTION": 0.5215286271982138,
          "STATE_FIPS": 25
        },
        {
          "state_name": "Michigan",
          "ELECTRIFIED": 20720.841874620728,
          "REDUCTION": 0.47508901611796556,
          "STATE_FIPS": 26
        },
        {
          "state_name": "Minnesota",
          "ELECTRIFIED": 16392.971925602524,
          "REDUCTION": 0.5754907773042021,
          "STATE_FIPS": 27
        },
        {
          "state_name": "Mississippi",
          "ELECTRIFIED": 17698.093104806307,
          "REDUCTION": 0.17556087007428164,
          "STATE_FIPS": 28
        },
        {
          "state_name": "Missouri",
          "ELECTRIFIED": 17997.735728953794,
          "REDUCTION": 0.3743875407561275,
          "STATE_FIPS": 29
        },
        {
          "state_name": "Montana",
          "ELECTRIFIED": 12359.796347321424,
          "REDUCTION": 0.6668175163845492,
          "STATE_FIPS": 30
        },
        {
          "state_name": "Nebraska",
          "ELECTRIFIED": 15457.418816042189,
          "REDUCTION": 0.4885408671830297,
          "STATE_FIPS": 31
        },
        {
          "state_name": "Nevada",
          "ELECTRIFIED": 17102.01469697687,
          "REDUCTION": 0.2767093024461313,
          "STATE_FIPS": 32
        },
        {
          "state_name": "New Hampshire",
          "ELECTRIFIED": 15655.203717981936,
          "REDUCTION": 0.5953511375097266,
          "STATE_FIPS": 33
        },
        {
          "state_name": "New Jersey",
          "ELECTRIFIED": 20070.824685342017,
          "REDUCTION": 0.39852761622359584,
          "STATE_FIPS": 34
        },
        {
          "state_name": "New Mexico",
          "ELECTRIFIED": 15581.786459068571,
          "REDUCTION": 0.3788524390644107,
          "STATE_FIPS": 35
        },
        {
          "state_name": "New York",
          "ELECTRIFIED": 14611.30282764195,
          "REDUCTION": 0.5040162591492784,
          "STATE_FIPS": 36
        },
        {
          "state_name": "North Carolina",
          "ELECTRIFIED": 13847.538474279198,
          "REDUCTION": 0.3264805058737832,
          "STATE_FIPS": 37
        },
        {
          "state_name": "North Dakota",
          "ELECTRIFIED": 12671.817324483796,
          "REDUCTION": 0.854954231759204,
          "STATE_FIPS": 38
        },
        {
          "state_name": "Ohio",
          "ELECTRIFIED": 18096.216512412942,
          "REDUCTION": 0.4049254832269664,
          "STATE_FIPS": 39
        },
        {
          "state_name": "Oklahoma",
          "ELECTRIFIED": 18687.659279348867,
          "REDUCTION": 0.2850371560106566,
          "STATE_FIPS": 40
        },
        {
          "state_name": "Oregon",
          "ELECTRIFIED": 12318.700462904128,
          "REDUCTION": 0.5451600343648018,
          "STATE_FIPS": 41
        },
        {
          "state_name": "Pennsylvania",
          "ELECTRIFIED": 17078.4633736161,
          "REDUCTION": 0.4581153454504447,
          "STATE_FIPS": 42
        },
        {
          "state_name": "Rhode Island",
          "ELECTRIFIED": 18620.01481854552,
          "REDUCTION": 0.43532897661519243,
          "STATE_FIPS": 44
        },
        {
          "state_name": "South Carolina",
          "ELECTRIFIED": 14645.752519513493,
          "REDUCTION": 0.24656843855784052,
          "STATE_FIPS": 45
        },
        {
          "state_name": "South Dakota",
          "ELECTRIFIED": 13772.174307982703,
          "REDUCTION": 0.5925579181247183,
          "STATE_FIPS": 46
        },
        {
          "state_name": "Tennessee",
          "ELECTRIFIED": 14860.75774031473,
          "REDUCTION": 0.346841291902604,
          "STATE_FIPS": 47
        },
        {
          "state_name": "Texas",
          "ELECTRIFIED": 16675.222762970337,
          "REDUCTION": 0.1612765036425433,
          "STATE_FIPS": 48
        },
        {
          "state_name": "Utah",
          "ELECTRIFIED": 18066.44112518942,
          "REDUCTION": 0.387739021676422,
          "STATE_FIPS": 49
        },
        {
          "state_name": "Vermont",
          "ELECTRIFIED": 14322.388124092437,
          "REDUCTION": 0.6236246354454896,
          "STATE_FIPS": 50
        },
        {
          "state_name": "Virginia",
          "ELECTRIFIED": 15521.600243172432,
          "REDUCTION": 0.38800779626269255,
          "STATE_FIPS": 51
        },
        {
          "state_name": "Washington",
          "ELECTRIFIED": 12131.060828886846,
          "REDUCTION": 0.5846634546286537,
          "STATE_FIPS": 53
        },
        {
          "state_name": "West Virginia",
          "ELECTRIFIED": 16616.17797182004,
          "REDUCTION": 0.4398304892528162,
          "STATE_FIPS": 54
        },
        {
          "state_name": "Wisconsin",
          "ELECTRIFIED": 15045.60625575155,
          "REDUCTION": 0.6182839875657061,
          "STATE_FIPS": 55
        },
        {
          "state_name": "Wyoming",
          "ELECTRIFIED": 14496.586919891128,
          "REDUCTION": 0.6038754840299116,
          "STATE_FIPS": 56
        }
      ]
    },
    {
      "name": "data_0",
      "source": "source_0",
      "transform": [
        {
          "type": "lookup",
          "from": "source_1",
          "fields": ["id"],
          "values": ["state_name", "TOTAL", "REDUCTION"],
          "key": "STATE_FIPS"
        },
        {
          "type": "filter",
          "expr": "isValid(datum[\"TOTAL\"]) && isFinite(+datum[\"TOTAL\"])"
        }
      ]
    },
    {
      "name": "data_1",
      "source": "source_0",
      "transform": [
        {
          "type": "lookup",
          "from": "source_2",
          "fields": ["id"],
          "values": ["state_name", "ELECTRIFIED", "REDUCTION"],
          "key": "STATE_FIPS"
        },
        {
          "type": "filter",
          "expr": "isValid(datum[\"ELECTRIFIED\"]) && isFinite(+datum[\"ELECTRIFIED\"])"
        }
      ]
    }
  ],
  "signals": [
    {"name": "childWidth", "value": 400},
    {
      "name": "unit",
      "value": {},
      "on": [
        {"events": "pointermove", "update": "isTuple(group()) ? group() : unit"}
      ]
    },
    {
      "name": "param_6",
      "update": "vlSelectionResolve(\"param_6_store\", \"union\", true, true)"
    }
  ],
  "marks": [
    {
      "type": "group",
      "name": "view_8_group",
      "encode": {
        "update": {
          "width": {"signal": "childWidth"},
          "height": {"signal": "height"}
        }
      },
      "signals": [
        {
          "name": "param_6_tuple",
          "on": [
            {
              "events": [{"source": "scope", "type": "click"}],
              "update": "datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0 ? {unit: \"view_8\", fields: param_6_tuple_fields, values: [(item().isVoronoi ? datum.datum : datum)[\"state_name\"]]} : null",
              "force": true
            },
            {
              "events": [{"source": "view", "type": "dblclick"}],
              "update": "null"
            }
          ]
        },
        {
          "name": "param_6_tuple_fields",
          "value": [{"type": "E", "field": "state_name"}]
        },
        {
          "name": "param_6_toggle",
          "value": false,
          "on": [
            {
              "events": [{"source": "scope", "type": "click"}],
              "update": "event.shiftKey"
            },
            {
              "events": [{"source": "view", "type": "dblclick"}],
              "update": "false"
            }
          ]
        },
        {
          "name": "param_6_modify",
          "on": [
            {
              "events": {"signal": "param_6_tuple"},
              "update": "modify(\"param_6_store\", param_6_toggle ? null : param_6_tuple, param_6_toggle ? null : true, param_6_toggle ? param_6_tuple : null)"
            }
          ]
        }
      ],
      "marks": [
        {
          "type": "shape",
          "name": "view_8_marks",
          "from": {"data": "data_0"},
          "encode": {
            "update": {
              "tooltip": {
                "signal": "{\"State\": isValid(datum[\"state_name\"]) ? datum[\"state_name\"] : \"\"+datum[\"state_name\"], \"Reduction\": format(datum[\"REDUCTION\"], \".2f\")}"
              },
              "fill": {"field": "TOTAL", "scale": "color"},
              "stroke": {"value": "white"},
              "opacity": [
                {
                  "value": 1,
                  "test": "!length(data(\"param_6_store\")) || vlSelectionTest(\"param_6_store\", datum)"
                },
                {"value": 0.2}
              ]
            }
          },
          "transform": [{"type": "geoshape", "projection": "projection"}],
          "style": ["geoshape"],
          "interactive": true
        }
      ],
      "title": {
        "text": "Present Moment",
        "frame": "group",
        "fontWeight": "bold",
        "align": "center",
        "fontSize": 15,
        "color": "black"
      },
      "style": "view"
    },
    {
      "type": "group",
      "name": "view_9_group",
      "encode": {
        "update": {
          "height": {"signal": "height"},
          "width": {"signal": "childWidth"}
        }
      },
      "signals": [
        {
          "name": "param_6_tuple",
          "on": [
            {
              "events": [{"source": "scope", "type": "click"}],
              "update": "datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0 ? {unit: \"view_9\", fields: param_6_tuple_fields, values: [(item().isVoronoi ? datum.datum : datum)[\"state_name\"]]} : null",
              "force": true
            },
            {
              "events": [{"source": "view", "type": "dblclick"}],
              "update": "null"
            }
          ]
        },
        {
          "name": "param_6_tuple_fields",
          "value": [{"type": "E", "field": "state_name"}]
        },
        {
          "name": "param_6_toggle",
          "value": false,
          "on": [
            {
              "events": [{"source": "scope", "type": "click"}],
              "update": "event.shiftKey"
            },
            {
              "events": [{"source": "view", "type": "dblclick"}],
              "update": "false"
            }
          ]
        },
        {
          "name": "param_6_modify",
          "on": [
            {
              "events": {"signal": "param_6_tuple"},
              "update": "modify(\"param_6_store\", param_6_toggle ? null : param_6_tuple, param_6_toggle ? null : true, param_6_toggle ? param_6_tuple : null)"
            }
          ]
        }
      ],
      "marks": [
        {
          "type": "shape",
          "name": "view_9_marks",
          "from": {"data": "data_1"},
          "encode": {
            "update": {
              "opacity": [
                {
                  "value": 1,
                  "test": "!length(data(\"param_6_store\")) || vlSelectionTest(\"param_6_store\", datum)"
                },
                {"value": 0.2}
              ],
              "tooltip": {
                "signal": "{\"State\": isValid(datum[\"state_name\"]) ? datum[\"state_name\"] : \"\"+datum[\"state_name\"], \"Reduction\": format(datum[\"REDUCTION\"], \".0%\")}"
              },
              "stroke": {"value": "white"},
              "fill": {"field": "ELECTRIFIED", "scale": "color"}
            }
          },
          "transform": [{"type": "geoshape", "projection": "projection"}],
          "interactive": true,
          "style": ["geoshape"]
        }
      ],
      "title": {
        "text": "Electrified Space Heating",
        "color": "black",
        "fontSize": 15,
        "align": "center",
        "frame": "group",
        "fontWeight": "bold"
      },
      "style": "view"
    }
  ],
  "scales": [
    {
      "name": "color",
      "type": "linear",
      "domain": {
        "fields": [
          {"data": "data_0", "field": "TOTAL"},
          {"data": "data_1", "field": "ELECTRIFIED"}
        ]
      },
      "range": {"scheme": "plasma"},
      "zero": false,
      "interpolate": "hcl"
    }
  ],
  "projections": [
    {
      "name": "projection",
      "type": "albersUsa",
      "fit": {"signal": "[data('data_0'), data('data_1')]"},
      "size": {"signal": "[childWidth, height]"}
    }
  ],
  "layout": {"padding": 20, "bounds": "full", "align": "each"},
  "padding": 5,
  "background": "white",
  "legends": [
    {
      "title": "kWh/Household",
      "fill": "color",
      "gradientLength": {"signal": "clamp(height, 64, 200)"},
      "encode": {"gradient": {"update": {"opacity": {"value": 1}}}}
    }
  ],
  "height": 300
}